<!DOCTYPE html
<html lang="de" manifest="/manifest.appcache">
  <head>
    <meta charset="utf-8">
    <title> Leuna-Bungalowgemeinschaft Roter See </title>
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <!-- build:css optimized.min.css -->
    <link rel="stylesheet" type="text/css" media="screen" href="/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" media="screen" href="/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" media="screen" href="/css/smartadmin-production.min.css">
    <link rel="stylesheet" type="text/css" media="screen" href="/css/smartadmin-production-plugins.min.css">
    <link rel="stylesheet" type="text/css" media="screen" href="/css/smartadmin-skins.min.css">
    <link rel="stylesheet" type="text/css" media="screen" href="/css/smartadmin-rtl.min.css">
    <!-- bower:css -->
    <link rel="stylesheet" href="bower_components/chosen/chosen.css" />
    <link rel="stylesheet" href="bower_components/eonasdan-bootstrap-datetimepicker/build/css/bootstrap-datetimepicker.min.css" />
    <link rel="stylesheet" href="bower_components/jstree/dist/themes/default/style.css" />
    <!-- endbower -->
    <link rel="stylesheet" type="text/css" media="screen"  href="/css/app.css">
    <!-- endbuild -->

    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="mask-icon" href="/mask-icon.svg" color="#3276b1">

    <link rel="apple-touch-icon" href="/img/sptouch-icon-iphone.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/img/touch-icon-ipad.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/img/touch-icon-iphone-retina.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/img/touch-icon-ipad-retina.png">

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">

    <link rel="apple-touch-startup-image" href="/img/ipad-landscape.png" media="screen and (min-device-width: 481px) and (max-device-width: 1024px) and (orientation:landscape)">
    <link rel="apple-touch-startup-image" href="/img/ipad-portrait.png" media="screen and (min-device-width: 481px) and (max-device-width: 1024px) and (orientation:portrait)">
    <link rel="apple-touch-startup-image" href="/img/iphone.png" media="screen and (max-device-width: 320px)">

    <script src="https://browser.sentry-cdn.com/5.7.1/bundle.min.js" integrity="sha384-KMv6bBTABABhv0NI+rVWly6PIRvdippFEgjpKyxUcpEmDWZTkDOiueL5xW+cztZZ" crossorigin="anonymous">
    </script>
    <script type="text/javascript">
        window.application_url = window.location.protocol + '//' + window.location.host + '/api';
    </script>
  </head>
  <body class="fixed-header fixed-navigation fixed-ribbon">
    <div class="pace pace-inactive">
      <div data-progress="0" data-progress-text="10%"
           style="width: 0%;" class="pace-progress">
        <div class="pace-progress-inner"></div>
      </div>
      <div class="pace-activity"></div>
    </div>
    <header id="header">
      <div id="logo-group">
        <span id="logo">
          <img src="img/logo.png" alt="Leuna-Bungalowgemeinschaft Roter See" />
        </span>
      </div>
      <div class="pull-right">
        <div id="hide-menu" class="btn-header pull-right">
          <span>
            <a href="javascript:void(0);" data-action="toggleMenu"
                title="Menü einklappen"><i class="fa fa-reorder"></i></a>
          </span>
        </div>
        <div id="logout" class="hide btn-header transparent pull-right">
          <span>
            <a href="#logout" title="Abmelden">
                <i class="fa fa-sign-out"></i>
            </a>
          </span>
        </div>
        <div id="fullscreen" class="btn-header transparent pull-right">
          <span>
            <a href="javascript:void(0);" data-action="launchFullscreen"
                title="Vollbild"><i class="fa fa-arrows-alt"></i>
            </a>
          </span>
        </div>
        <div id="online_status" class="btn-header transparent pull-right"
             data-status="ONLINE">
          <span>
            <a href="javascript:void(0);" title="Sie arbeiten online"
               style="color: #8ac38b;"><i class="fa fa-globe"></i>
            </a>
          </span>
        </div>
        <div id="speech-btn"
            class="btn-header transparent pull-right">
                    <div>
                        <a href="javascript:void(0)" title="Neuer Termin" class="new_event_button"><i class="fa fa-calendar"></i></a>
                        <div class="new_event_popup popover bottom" style="display: hidden;">
                            <div class="arrow"></div>
                            <div class="popover-content">
                                <header><h2>Neuer Termin</h2></header>
                                <div>
                                    <div class="widget-body">
                                    <form id="add-event-form">
                                        <fieldset>
                                            <div class="form-group">
                                                <label>Kategorie</label>
                                                <div class="btn-group btn-group-sm btn-group-justified" data-toggle="buttons">
                                                    <label class="btn btn-default active">
                                                        <input type="radio" name="category" value="Vorstand" checked> Vorstand </label>
                                                    <label class="btn btn-default">
                                                        <input type="radio" name="category" value="Mitglieder"> Mitglieder </label>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label>Titel</label>
                                                <input class="form-control" name="title" maxlength="40" type="text">
                                            </div>
                                            <div class="form-group">
                                                <label>Beschreibung</label>
                                                <textarea class="form-control" rows="3" maxlength="100" id="description" name="description"></textarea>
                                                <p class="note">Länge ist auf 100 Zeichen begrenzt.</p>
                                            </div>
                                            <div class="form-group allday">
                                                <label>Ganztag</label>
                                                <div class="btn-group btn-group-sm btn-group-justified" data-toggle="buttons">
                                                    <label class="btn btn-default">
                                                        <input type="radio" name="allday" value="1"> Ja </label>
                                                    <label class="btn btn-default active">
                                                        <input type="radio" name="allday" value="0" checked> Nein </label>
                                                </div>
                                            </div>
                                            <div class="form-group start">
                                                <label>Beginn</label>
                                                <input type="text" class="form-control datetimepicker" name="start" value="">
                                            </div>
                                            <div class="form-group end">
                                                <label>Ende</label>
                                                <input type="text" class="form-control datetimepicker" name="end" value="">
                                            </div>
                                            <div class="form-group">
                                                <button class="btn btn-default submit" type="button" id="add-event" >
                                                    Termin eintragen
                                                </button>
                                            </div>
                                        </fieldset>
                                    </form>
                                </div>
                            </div>
                    </div>
                        </div>
                    </div>
                </div>
      </div>
    </header>


    <div class="signin container">
      <div class="col-lg-4 col-lg-offset-4">
        <div class="well no-padding">
          <form class="smart-form client-form" role="form">
            <header>
              Bitte melden Sie sich an.
            </header>
            <fieldset>
              <section>
                <label class="label">Benutzername</label>
                <label class="input">
                  <i class="icon-append fa fa-user"></i>
                  <input type="username" name="username" required autofocus
                         data-bv-field="username" class="form-control"
                         placeholder="Benutzername" />
                </label>
              </section>

              <section>
                <label class="label">Passwort</label>
                <label class="input">
                  <i class="icon-append fa fa-lock"></i>
                  <input type="password" name="password" required
                         data-bv-field="password" class="form-control"
                         placeholder="Passwort" />
                </label>
              </section>

              <section>
                <label class="checkbox">
                  <input type="checkbox" class="form-control" checked
                         name="remember" />
                  <i></i>Auf diesem Computer angemeldet bleiben</label>
              </section>
            </fieldset>
            <footer>
              <button class="btn btn-primary" type="submit">
                Anmelden
              </button>
            </footer>
          </form>
        </div>
      </div>
    </div>

    <aside id="left-panel">
        <div class="login-info">
            <span>
                <a href="javascript:void(0);">
                    <img class="online" alt="ich" src="">
                    <span></span>
                </a>
            </span>
        </div>
       <nav class="navbar-main">
       </nav>
       <span class="minifyme" data-action="minifyMenu">
          <i class="fa fa-arrow-circle-left hit"></i>
        </span>
    </aside>

    <!--[if IE 8]>
    <h1>Your browser is out of date, please update your browser by going to www.microsoft.com/download</h1>
    <![endif]-->

    <div id="main" role="main">
      <div id="ribbon">
        <span class="ribbon-button-alignment">
        </span>
        <ol class="breadcrumb">
          <li>Startseite</li>
        </ol>
      </div>

      <div id="content">
        <div class="row">
          <div class="col-xs-6 col-sm-7 col-md-7 col-lg-4">
            <h1 class="page-title txt-color-blueDark">
              <i class="fa-fw fa fa-home"></i> Startseite
            </h1>
          </div>
        </div>
        <div class="row">
          <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"
               id="main_content">
            <div class="well well-sm">
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"
               id="sub_content">
          </div>
        </div>
      </div>
  </div>

    <div class="page-footer">
      <div class="row">
        <div class="col-xs-12 col-sm-6">
          <span class="txt-color-white">Sebastian Wehrmann © 2014 - 2019</span>
        </div>
        <div class="col-xs-6 col-sm-6 text-right hidden-xs">
          <div class="inline-block">
            <i class="txt-color-blueLight hidden-mobile">
              <a href="https://codeclimate.com/github/sweh/sw.allotmentclub.frontend/test_coverage"
                 target="_blank">
                <img src="https://api.codeclimate.com/v1/badges/7aae4997198f44ccc547/test_coverage"
                     alt="Frontend Test Coverage" />
              </a>
              <a href="https://codeclimate.com/github/sweh/sw.allotmentclub.frontend/maintainability"
                 target="_blank">
                <img src="https://api.codeclimate.com/v1/badges/7aae4997198f44ccc547/maintainability"
                     alt="Frontend Maintainability" />
              </a>
              <a href="https://codeclimate.com/github/sweh/sw.allotmentclub.backend/test_coverage"
                 target="_blank">
                <img src="https://api.codeclimate.com/v1/badges/fd997cfcf42412bf1cd6/test_coverage"
                     alt="Backend Test Coverage" />
              </a>
              <a href="https://codeclimate.com/github/sweh/sw.allotmentclub.backend/maintainability"
                 target="_blank">
                <img src="https://api.codeclimate.com/v1/badges/fd997cfcf42412bf1cd6/maintainability"
                     alt="Backend Maintainability" />
              </a>
              <!--
              <a href="https://www.ssllabs.com/ssltest/analyze.html?d=verwaltung.roter-see.de"
                 target="_blank">
                <img src="https://sslbadge.org/?domain=verwaltung.roter-see.de"
                     alt="SSL Quality"/>
              </a>
              -->
            </i>
          </div>
        </div>
      </div>
    </div>

    <div aria-hidden="false" aria-labelledby="changelogLabel" role="dialog" tabindex="-1" id="changelog" class="modal">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button aria-hidden="true" data-dismiss="modal" class="close" type="button">
              ×
            </button>
            <h4 id="changelogLabel" class="modal-title">Changelog</h4>
          </div>
          <pre class="modal-body" style="font-style: normal; height: 300px; margin-bottom: 0; overflow: scroll;">
          </pre>
          <div class="modal-footer">
            <button data-dismiss="modal" class="btn btn-default" type="button">
              Schließen
            </button>
          </div>
        </div>
      </div>
    </div>
    <!-- build:js optimized.js -->
    <!-- bower:js -->
    <script src="bower_components/jquery/dist/jquery.js"></script>
    <script src="bower_components/blockui/jquery.blockUI.js"></script>
    <script src="bower_components/bootstrap/dist/js/bootstrap.js"></script>
    <script src="bower_components/bootstrap-markdown/js/bootstrap-markdown.js"></script>
    <script src="bower_components/bootstrapvalidator/dist/js/bootstrapValidator.js"></script>
    <script src="bower_components/knockout/dist/knockout.js"></script>
    <script src="bower_components/bower-knockout-mapping/dist/knockout.mapping.js"></script>
    <script src="bower_components/chosen/chosen.jquery.js"></script>
    <script src="bower_components/classy/classy.js"></script>
    <script src="bower_components/datatables/media/js/jquery.dataTables.js"></script>
    <script src="bower_components/datatables-colvis/js/dataTables.colVis.js"></script>
    <script src="bower_components/datatables-tabletools/js/dataTables.tableTools.js"></script>
    <script src="bower_components/dropzone/dist/min/dropzone.min.js"></script>
    <script src="bower_components/moment/moment.js"></script>
    <script src="bower_components/eonasdan-bootstrap-datetimepicker/build/js/bootstrap-datetimepicker.min.js"></script>
    <script src="bower_components/fastclick/lib/fastclick.js"></script>
    <script src="bower_components/handlebars/handlebars.js"></script>
    <script src="bower_components/jquery-ui/ui/jquery-ui.js"></script>
    <script src="bower_components/jqueryui/jquery-ui.js"></script>
    <script src="bower_components/ajja/src/helpers.js"></script>
    <script src="bower_components/ajja/src/localizations/en.js"></script>
    <script src="bower_components/ajja/src/localizations/de.js"></script>
    <script src="bower_components/ajja/src/templates.js"></script>
    <script src="bower_components/ajja/src/template.js"></script>
    <script src="bower_components/ajja/src/collection.js"></script>
    <script src="bower_components/ajja/src/form.js"></script>
    <script src="bower_components/html5shiv/dist/html5shiv.js"></script>
    <script src="bower_components/jquery.ui.touch-punch.dk/jquery.ui.touch-punch.dk.js"></script>
    <script src="bower_components/datatables-sorting-datetime-moment/js/datetime-moment.js"></script>
    <script src="bower_components/offline/offline.min.js"></script>
    <script src="bower_components/svg-pan-zoom/dist/svg-pan-zoom.js"></script>
    <script src="bower_components/he/he.js"></script>
    <script src="bower_components/to-markdown/src/to-markdown.js"></script>
    <script src="bower_components/jquery-file-download/src/Scripts/jquery.fileDownload.js"></script>
    <script src="bower_components/version_compare/version_compare.js"></script>
    <script src="bower_components/jstree/dist/jstree.js"></script>
    <script src="bower_components/Flot/jquery.flot.js"></script>
    <!-- endbower -->
    <script src="bower_components/Flot/jquery.flot.time.js"></script>
    <script src="bower_components/moment/locale/de.js"></script>
    <script type="text/javascript" src="/js/fullcalendar.min.js"></script>
    <script type="text/javascript" src="/js/smartadmin.min.js"></script>
    <script type="text/javascript" src="/js/templates.js"></script>
    <script type="text/javascript" src="/js/app.utils.js"></script>
    <script type="text/javascript" src="/js/app.location.js"></script>
    <script type="text/javascript" src="/js/app.baseview.js"></script>
    <script type="text/javascript" src="/js/app.navigation.js"></script>
    <script type="text/javascript" src="/js/app.login.js"></script>
    <script type="text/javascript" src="/js/app.home.js"></script>
    <script type="text/javascript" src="/js/app.map.js"></script>
    <script type="text/javascript" src="/js/app.calendar.js"></script>
    <script type="text/javascript" src="/js/app.keylist.js"></script>
    <script type="text/javascript" src="/js/app.authority.js"></script>
    <script type="text/javascript" src="/js/app.account.js"></script>
    <script type="text/javascript" src="/js/app.mail.js"></script>
    <script type="text/javascript" src="/js/app.depot.js"></script>
    <script type="text/javascript" src="/js/app.member.js"></script>
    <script type="text/javascript" src="/js/app.wastewater.js"></script>
    <script type="text/javascript" src="/js/app.property_tax_b.js"></script>
    <script type="text/javascript" src="/js/app.assignment.js"></script>
    <script type="text/javascript" src="/js/app.protocol.js"></script>
    <script type="text/javascript" src="/js/app.bulletin.js"></script>
    <script type="text/javascript" src="/js/app.externals.js"></script>
    <script type="text/javascript" src="/js/app.electricity.js"></script>
    <!-- endbuild -->
    <script type="text/javascript">
      $(document).ready(function () {
          var xhr = new XMLHttpRequest(),
              version = sw.allotmentclub.version;
          if (version.indexOf('dev') === -1) {
              xhr.open('GET', window.application_url + '/sentry_frontend');
              xhr.onload = function() {
                  if (xhr.status === 200) {
                      Sentry.init({
                          dsn: JSON.parse(xhr.responseText).dsn,
                          release: "sw-allotmentclub-frontend@" + version
                      });
                  }
              };
              xhr.send();
          }

          sw.allotmentclub.login();

          var init_datetimepicker_add_event_form = function (allday) {
            if (allday === "0") {
                fmt = 'DD.MM.YYYY HH:mm';
            } else {
                fmt = 'DD.MM.YYYY';
            }
            $('#add-event-form input.datetimepicker').datetimepicker({
              format: fmt,
              locale: 'de',
              stepping: 15
            });
          }

          $('.new_event_button').click(function (ev) {
            $('.new_event_popup').toggle();
          });

          $('#add-event-form .submit').click(function (ev) {
            var data = {
                category: $('#add-event-form label.active input[name=category]').val(),
                title: $('#add-event-form input[name=title]').val(),
                description: $('#add-event-form textarea[name=description]').val(),
                allday: $('#add-event-form label.active input[name=allday]').val(),
                start: $('#add-event-form input[name=start]').val(),
                end: $('#add-event-form input[name=end]').val(),
                owner: localStorage.getItem('username'),
            }
            if (!data.title || !data.start) {
                return
            }
            if (data.allday == '0') {
                fmt = 'DD.MM.YYYY HH:mm'
                data.allday = false;
            } else {
                fmt = 'DD.MM.YYYY'
                data.allday = true;
            }
            data.start = moment(data.start, fmt).format();
            if (data.end) {
                data.end = moment(data.end, fmt).format();
            }
            $.ajax({
                url: window.application_url + '/calendar/add',
                method: 'POST',
                data: JSON.stringify(data),
                contentType: 'application/json',
                dataType: "json",
                success: function (evid) {
                    $('#add-event-form')[0].reset();
                    $('.new_event_popup').toggle();
                    data.id = evid;
                    if ($('#calendar').length) {
                        sw.allotmentclub.add_event(data);
                    }
                }
            });
          });

          $('#add-event-form .allday label').click(function (ev) {
            $('#add-event-form .start input.datetimepicker').data("DateTimePicker").destroy();
            $('#add-event-form .end input.datetimepicker').data("DateTimePicker").destroy();
            $('#add-event-form .start input.datetimepicker').val('');
            $('#add-event-form .end input.datetimepicker').val('');
            init_datetimepicker_add_event_form(
              $(ev.currentTarget).find('input').val()
            );
          });

          init_datetimepicker_add_event_form(
            $('#add-event-form .allday input:checked').val()
          );
      });
    </script>
  </body>
</html>
